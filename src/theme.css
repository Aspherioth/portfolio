@layer reset, base, components, utilities;

:root {
    /* Surfaces */
    --bg: oklch(98% 0.01 270);
    --card: oklch(100% 0 0);
    --border: oklch(91.2% 0.027 298);

    /* Text */
    --text-primary: oklch(16.5% 0.052 298); /* AAA on bg/card */
    --text-secondary: oklch(24.2% 0.078 298);
    --text-muted: oklch(42.8% 0.067 298);

    /* Brand / accents */
    --primary: oklch(35.6% 0.165 298); /* white text is AAA */
    --secondary: oklch(69.8% 0.137 50); /* black text is AAA */
    --teal: oklch(70.2% 0.123 180); /* black text is AAA */
    --gold: oklch(57.4% 0.12 85);

    /* Feedback (pastels for AAA with dark text) */
    --success: oklch(94.8% 0.043 142);
    --warning: oklch(96.5% 0.056 85);
    --error: oklch(89.2% 0.075 15);
    --info: oklch(92.8% 0.065 230);

    /* Onâ€‘color helpers (explicit to avoid guessing in JS) */
    --on-primary: oklch(100% 0 0);
    --on-secondary: oklch(0% 0 0);
    --on-teal: oklch(0% 0 0);

    /* Effects */
    --shadow-card: 0 8px 20px oklch(8.5% 0.045 298 / 0.07);
    --glow-primary: 0 0 10px oklch(35.6% 0.165 298 / 0.35);
    --glow-secondary: 0 0 10px oklch(69.8% 0.137 50 / 0.35);

    /* Typography */
    --font-base: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    --font-heading: "Cinzel Decorative", Georgia, serif;
    --font-mono: "Fira Code", ui-monospace, SFMono-Regular, Menlo, monospace;
    --font-special: "Great Vibes", "Brush Script MT", cursive;
}

/* Dark theme overrides */
.theme-dark {
    --bg: oklch(21.2% 0 0);
    --card: oklch(25.9% 0 0);
    --border: oklch(35.3% 0 0);

    --text-primary: oklch(100% 0 0);
    --text-secondary: oklch(94.1% 0 0);
    --text-muted: oklch(80.8% 0 0);

    --primary: oklch(38.2% 0.162 298); /* white AAA */
    --secondary: oklch(37.5% 0.12 50); /* white AAA */
    --teal: oklch(42.8% 0.086 180); /* white AAA */
    --gold: oklch(78.5% 0.125 85);

    /* Alerts: neutral surface + colored bar handled in markup */
    --success: oklch(52.8% 0.12 142); /* used for bar only */
    --warning: oklch(61.2% 0.118 85);
    --error: oklch(42.5% 0.18 15);
    --info: oklch(54.8% 0.145 230);

    --shadow-card: 0 10px 25px oklch(0% 0 0 / 0.35);
    --glow-primary: 0 0 16px oklch(38.2% 0.162 298 / 0.55);
    --glow-secondary: 0 0 16px oklch(37.5% 0.12 50 / 0.55);
}

/* Respect system preference if you apply .theme-auto */
.theme-auto {
    color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
    .theme-auto:not(.theme-dark):not(.theme-light) {
        /* opt-in: if you add theme-auto without explicit theme, dark kicks in */
        --bg: oklch(21.2% 0 0);
        --card: oklch(25.9% 0 0);
        --border: oklch(35.3% 0 0);
        --text-primary: oklch(100% 0 0);
        --text-secondary: oklch(94.1% 0 0);
        --text-muted: oklch(80.8% 0 0);
        --primary: oklch(38.2% 0.162 298);
        --secondary: oklch(37.5% 0.12 50);
        --teal: oklch(42.8% 0.086 180);
        --gold: oklch(78.5% 0.125 85);
        --shadow-card: 0 10px 25px oklch(0% 0 0 / 0.35);
        --glow-primary: 0 0 16px oklch(38.2% 0.162 298 / 0.55);
        --glow-secondary: 0 0 16px oklch(37.5% 0.12 50 / 0.55);
    }
}

@layer base {
    /* Minimal primitives */
    .wop {
        background-image: linear-gradient(to bottom right, rgba(from var(--bg) r g b / 100%), rgba(from var(--bg) r g b / 98%)) ;
        color: var(--text-primary);
        font-family: var(--font-base);
    }

    .wop .container {
        max-width: 72rem;
        margin-inline: auto;
        padding: 1rem;
    }

    .wop .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 1rem;
        box-shadow: var(--shadow-card);
    }

    .wop .bordered {
        border: 1px solid var(--border);
        border-radius: 1rem;
    }

    /* Buttons */
    .btn {
        display: inline-flex;
        gap: .5rem;
        align-items: center;
        border-radius: .75rem;
        padding: .5rem 1rem;
        font-weight: 600;
        font-size: .875rem;
        border: 0;
        cursor: pointer;
    }

    .btn-primary {
        background: var(--primary);
        color: var(--on-primary);
        box-shadow: var(--glow-primary);
    }

    .btn-secondary {
        background: var(--secondary);
        color: var(--on-secondary);
        box-shadow: var(--glow-secondary);
    }

    .btn-teal {
        background: var(--teal);
        color: var(--on-teal);
    }

    .btn-ghost {
        background: var(--card);
        color: var(--text-primary);
        border: 1px solid var(--border);
    }

    /* Alerts */
    .alert {
        display: flex;
        align-items: flex-start;
        gap: .5rem;
        padding: .75rem;
        border-radius: .5rem;
        border: 1px solid var(--border);
        background: var(--card);
    }

    .alert .bar {
        width: .375rem;
        height: 1.25rem;
        border-radius: .25rem;
        margin-right: .25rem;
    }

    .alert.success .bar {
        background: var(--success);
    }

    .alert.warning .bar {
        background: var(--warning);
    }

    .alert.error .bar {
        background: var(--error);
    }

    .alert.info .bar {
        background: var(--info);
    }

    /* Headings */
    .h1, .h2, .h3 {
        font-family: var(--font-heading);
        margin: 0;
    }

    .h1 {
        font-size: clamp(2.25rem, 3vw, 3rem);
        font-weight: 800;
    }

    .h2 {
        font-size: 1.75rem;
        font-weight: 700;
    }

    .h3 {
        font-size: 1.25rem;
        font-weight: 600;
    }

    .code {
        font-family: var(--font-mono);
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: .5rem;
        padding: .75rem;
        font-size: .8rem;
    }

    .signature {
        font-family: var(--font-special);
        color: var(--gold);
    }
}

html { scroll-behavior: smooth; }